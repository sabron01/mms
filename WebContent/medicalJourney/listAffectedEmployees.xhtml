<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:body>

	<ui:composition template="/template/common/commonLayout.xhtml">

		<ui:define name="contentHeader">
			<h1>
				Les Séjours <small>Liste</small>
			</h1>
			<ol class="breadcrumb">
				<li><h:link outcome="/home/dashboard.xhtml">
						<i class="fa fa-home"></i>Accueil
					</h:link></li>
				<li class="active">Les Séjours</li>
			</ol>
		</ui:define>
		<ui:define name="content">
			<div class="row">
				<h:outputText value="#{i18n.noItemsFound}"
					rendered="#{MedicalJourneyController.selectedMedicalJourney.affectedEmployees == null || MedicalJourneyController.selectedMedicalJourney.affectedEmployees.size() ==0}" />
				<div class="col-xs-12">
					<div class="box">
						<div class="box-header">
							<h3 class="box-title">Liste des employees affectés</h3>
							<div class="box-tools">
								<div class="input-group">
									<input type="text" name="table_search"
										class="form-control input-sm pull-right" style="width: 150px;"
										placeholder="Search"></input>
									<div class="input-group-btn">
										<button class="btn btn-sm btn-default">
											<i class="fa fa-search"></i>
										</button>
									</div>
								</div>
							</div>
						</div>
						<!-- /.box-header -->
						<div class="box-body table-responsive no-padding">
							<table class="table table-hover">
								<tbody>
									<tr>
										<th>Nom et Prénom</th>
										<th>Fonction</th>
										<th>Action</th>
									</tr>

									<ui:repeat
										value="#{MedicalJourneyController.selectedMedicalJourney.affectedEmployees}"
										var="element">
										<h:form>
											<tr>
												<td><h:outputText
														value="#{element.honorificTitle} #{element.lastName} #{element.firstName}"></h:outputText>
												</td>
												<td><h:outputText value="#{element.function.title}"></h:outputText></td>
												<td><h:commandLink title="Delete"
														styleClass="badge bg-red"
														action="#{MedicalJourneyController.removeEmployee(element.id)}"
														value="delete">
														<f:setPropertyActionListener value="#{MedicalJourneyController.selectedMedicalJourney}"
															target="#{MedicalJourneyController.selectedMedicalJourney}" />
														<f:setPropertyActionListener value="#{element}"
															target="#{MedicalJourneyController.selectedEmployee}" />
													</h:commandLink></td>
											</tr>
										</h:form>
									</ui:repeat>
								</tbody>
							</table>
						</div>
						<!-- /.box-body -->
					</div>
					<!-- /.box -->
				</div>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>